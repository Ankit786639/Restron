{"ast":null,"code":"import _classCallCheck from\"/home/saurabh/Desktop/restron/Restron/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/saurabh/Desktop/restron/Restron/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/saurabh/Desktop/restron/Restron/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/saurabh/Desktop/restron/Restron/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Modal,Button,Form}from'react-bootstrap';import'./login.css';import axios from'axios';import{Redirect}from'react-router-dom';var login=/*#__PURE__*/function(_Component){_inherits(login,_Component);var _super=_createSuper(login);function login(props){var _this;_classCallCheck(this,login);_this=_super.call(this,props);_this.handleSubmit=function(){var signinDetails={email:_this.state.email,password:_this.state.password};_this.setState({redirect:true});axios.post(\"http://localhost:8000/api/signin\",signinDetails).then(function(res){console.log(res);console.log(res.data.user.name);_this.props.getProps(res.data.user.name);});};_this.renderRedirect=function(){if(_this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}};_this.handleChangeUser=function(event){_this.setState({email:event.target.value});};_this.handleChangePassword=function(event){_this.setState({password:event.target.value});};_this.state={email:\"\",password:\"\",redirect:false};return _this;}_createClass(login,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Modal,Object.assign({},this.props,{centered:true}),this.renderRedirect(),/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(\"h1\",{className:\"form_header\"},\"Login\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"input\",{className:\"form_input_field p-3 mb-3\",type:\"text\",value:this.state.email,required:true,placeholder:\"Email-Id\",onChange:this.handleChangeUser}),/*#__PURE__*/React.createElement(\"input\",{className:\"form_input_field p-3 mb-3\",type:\"password\",value:this.state.password,required:true,placeholder:\"Password\",onChange:this.handleChangePassword}),/*#__PURE__*/React.createElement(Button,{className:\"form_input_field p-3 mb-3 log_input\",variant:\"success\",onClick:this.handleSubmit},\"Login\"))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"dark\",onClick:this.props.onHide},\"Close\"))));}}]);return login;}(Component);export{login as default};","map":{"version":3,"sources":["/home/saurabh/Desktop/restron/Restron/src/other/login.js"],"names":["React","Component","Modal","Button","Form","axios","Redirect","login","props","handleSubmit","signinDetails","email","state","password","setState","redirect","post","then","res","console","log","data","user","name","getProps","renderRedirect","handleChangeUser","event","target","value","handleChangePassword","onHide"],"mappings":"gmBAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAAOC,KAAP,CAAcC,MAAd,CAAsBC,IAAtB,KAAiC,iBAAjC,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,GAEqBC,CAAAA,K,8FACnB,eAAYC,KAAZ,CAAkB,uCAChB,uBAAMA,KAAN,EADgB,MAUlBC,YAVkB,CAUH,UAAM,CACnB,GAAMC,CAAAA,aAAa,CAAE,CACnBC,KAAK,CAAC,MAAKC,KAAL,CAAWD,KADE,CAEnBE,QAAQ,CAAC,MAAKD,KAAL,CAAWC,QAFD,CAArB,CAKA,MAAKC,QAAL,CAAc,CAACC,QAAQ,CAAE,IAAX,CAAd,EAEAV,KAAK,CAACW,IAAN,oCAA8CN,aAA9C,EACCO,IADD,CACM,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,IAAT,CAAcC,IAA1B,EACA,MAAKf,KAAL,CAAWgB,QAAX,CAAoBN,GAAG,CAACG,IAAJ,CAASC,IAAT,CAAcC,IAAlC,EACD,CALD,EAOC,CAzBe,OA2BhBE,cA3BgB,CA2BA,UAAM,CACpB,GAAG,MAAKb,KAAL,CAAWG,QAAd,CAAuB,CACnB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CACF,CA/Ba,OAiClBW,gBAjCkB,CAiCC,SAACC,KAAD,CAAW,CAC5B,MAAKb,QAAL,CAAc,CAACH,KAAK,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAApB,CAAd,EACD,CAnCiB,OAoClBC,oBApCkB,CAoCK,SAACH,KAAD,CAAW,CAChC,MAAKb,QAAL,CAAc,CAACD,QAAQ,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAvB,CAAd,EACD,CAtCiB,CAEhB,MAAKjB,KAAL,CAAW,CACTD,KAAK,CAAC,EADG,CAETE,QAAQ,CAAC,EAFA,CAGTE,QAAQ,CAAE,KAHD,CAAX,CAFgB,aAOjB,C,yDAiCQ,CACP,mBAEE,oBAAC,KAAD,kBAAW,KAAKP,KAAhB,EAAuB,QAAQ,KAA/B,GACC,KAAKiB,cAAL,EADD,cAEA,2BAAK,SAAS,CAAC,OAAf,eACM,oBAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,eACE,0BAAI,SAAS,CAAC,aAAd,UADF,CADN,cAKM,oBAAC,KAAD,CAAO,IAAP,mBAEQ,oBAAC,IAAD,mBACE,6BAAO,SAAS,CAAC,2BAAjB,CAA6C,IAAI,CAAC,MAAlD,CAAyD,KAAK,CAAE,KAAKb,KAAL,CAAWD,KAA3E,CAAkF,QAAQ,KAA1F,CAA2F,WAAW,CAAC,UAAvG,CAAkH,QAAQ,CAAE,KAAKe,gBAAjI,EADF,cAGE,6BAAO,SAAS,CAAC,2BAAjB,CAA6C,IAAI,CAAC,UAAlD,CAA6D,KAAK,CAAE,KAAKd,KAAL,CAAWC,QAA/E,CAAyF,QAAQ,KAAjG,CAAkG,WAAW,CAAC,UAA9G,CAAyH,QAAQ,CAAE,KAAKiB,oBAAxI,EAHF,cAKE,oBAAC,MAAD,EAAQ,SAAS,CAAC,qCAAlB,CAAwD,OAAO,CAAC,SAAhE,CAA0E,OAAO,CAAE,KAAKrB,YAAxF,UALF,CAFR,CALN,cAiBM,oBAAC,KAAD,CAAO,MAAP,mBACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,OAAO,CAAE,KAAKD,KAAL,CAAWuB,MAA3C,UADF,CAjBN,CAFA,CAFF,CA2BD,C,mBArEgC9B,S,SAAdM,K","sourcesContent":["import React,{Component} from 'react'\r\nimport{Modal, Button, Form} from 'react-bootstrap';\r\nimport './login.css';\r\nimport axios from 'axios'\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport default class login extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      email:\"\",\r\n      password:\"\",\r\n      redirect: false,\r\n    }\r\n  }\r\n\r\n\r\n  handleSubmit = () => {\r\n    const signinDetails ={\r\n      email:this.state.email,\r\n      password:this.state.password,\r\n    }\r\n\r\n    this.setState({redirect: true});\r\n    \r\n    axios.post(`http://localhost:8000/api/signin`,signinDetails)\r\n    .then(res => {\r\n      console.log(res);\r\n      console.log(res.data.user.name);\r\n      this.props.getProps(res.data.user.name);\r\n    })\r\n      \r\n    }\r\n        \r\n    renderRedirect =() => {\r\n      if(this.state.redirect){\r\n          return <Redirect to='/' />\r\n        }\r\n      }\r\n\r\n  handleChangeUser = (event) => {\r\n    this.setState({email:event.target.value})\r\n  }\r\n  handleChangePassword = (event) => {\r\n    this.setState({password:event.target.value})\r\n  }\r\n\r\n  render() { \r\n    return (\r\n      \r\n      <Modal {...this.props} centered>\r\n      {this.renderRedirect()}\r\n      <div className=\"login\">\r\n            <Modal.Header closeButton>\r\n              <h1 className=\"form_header\">Login</h1>\r\n            </Modal.Header>\r\n            \r\n            <Modal.Body>\r\n              \r\n                    <Form>   \r\n                      <input className=\"form_input_field p-3 mb-3\" type=\"text\" value={this.state.email} required placeholder=\"Email-Id\" onChange={this.handleChangeUser}/>\r\n                      \r\n                      <input className=\"form_input_field p-3 mb-3\" type=\"password\" value={this.state.password} required placeholder=\"Password\" onChange={this.handleChangePassword}/> \r\n\r\n                      <Button className=\"form_input_field p-3 mb-3 log_input\" variant=\"success\" onClick={this.handleSubmit}>Login</Button>\r\n                    </Form>\r\n                \r\n            </Modal.Body>\r\n            \r\n            <Modal.Footer>\r\n              <Button variant=\"dark\" onClick={this.props.onHide}>Close</Button>\r\n            </Modal.Footer>\r\n          </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}